{
    "rules": {
        "context_initialization": {
            "description": "Starting point for each interaction",
            "steps": [
                "ALWAYS read `notes/project_overview.md` and `notes/task_list.md` first",
                "ALWAYS read `notes/CLAUDE.md` for SwiftFlash-specific instructions",
                "ALWAYS check `notes/requirements_specification.md` for SMART technical requirements",
                "Check protection markers before ANY code modifications"
            ]
        },
        "operational_protocol": {
            "description": "How to approach SwiftFlash development tasks",
            "before_action": [
                "Create a MECE task breakdown",
                "Verify no protected code sections are affected",
                "Ask for permission before modifying CRITICAL sections"
            ],
            "code_changes": [
                "Read relevant code sections before editing",
                "Preserve existing functionality",
                "Maintain Swift 6 and SwiftUI modern syntax",
                "Follow Apple coding guidelines",
                "Generate appropriate comments for functions and key steps"
            ]
        },
        "safety_requirements": [
            "NEVER modify code marked with 'DO NOT MODIFY' comments",
            "NEVER change sections marked with 'CRITICAL' or 'TESTED AND VERIFIED'",
            "ALWAYS respect protection markers: `// MARK: - CRITICAL ... (DO NOT MODIFY)`",
            "IGNORE files or sections marked with `// AI-IGNORE-START` / `// AI-IGNORE-END`",
            "ALWAYS maintain type safety",
            "ALWAYS preserve error handling mechanisms",
            "ALWAYS document new code"
        ],
        "priorities": [
            {
                "source": "notes/",
                "weight": 1.0,
                "description": "Project documentation and guidelines"
            },
            {
                "source": "SwiftFlash protection rules",
                "weight": 1.0,
                "description": "Protected code sections and critical functionality"
            }
        ],
        "technology_standards": {
            "swift_version": "Swift 6",
            "ui_framework": "SwiftUI (latest syntax)",
            "target_platform": "macOS 15.6",
            "coding_style": "Apple official guidelines",
            "patterns": "Modern SwiftUI patterns like @Observable"
        },
        "modes": {
            "research": {
                "description": "Information gathering and understanding existing code",
                "permissions": ["read files", "ask questions", "understand structure"],
                "forbidden": ["suggestions", "implementations", "planning"]
            },
            "plan": {
                "description": "Creating detailed technical specifications",
                "permissions": ["detailed planning", "technical specifications"],
                "forbidden": ["implementation", "code writing"],
                "required_output": "numbered checklist for implementation"
            },
            "execute": {
                "description": "Implementing exactly what was planned",
                "permissions": ["implement planned changes only"],
                "forbidden": ["deviations", "improvements not in plan"],
                "entry_requirement": "explicit 'ENTER EXECUTE MODE' command"
            }
        },
        "project_directives": {
            "name": "SwiftFlash",
            "type": "macOS USB imaging utility",
            "ai_first": true,
            "protection_aware": true
        }
    }
}